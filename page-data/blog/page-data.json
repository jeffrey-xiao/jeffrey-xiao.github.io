{"componentChunkName":"component---src-templates-blog-js","path":"/blog","result":{"data":{"pagePosts":{"edges":[{"node":{"html":"<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>Over the past month, I tried my hand at emulating the Nintendo Entertainment System and I wanted to\nshare my personal experience creating <code class=\"language-text\">neso-rs</code> and some advice to those wanting to make their own.\nMy final goal was to compile the project to WebAssembly so that the emulator can be run on the web,\nso I will also share my thoughts on the WebAssembly ecosystem.</p>\n<p>Links to the source code:</p>\n<ul>\n<li><a href=\"https://github.com/jeffrey-xiao/neso-web\">Web frontend</a></li>\n<li><a href=\"https://github.com/jeffrey-xiao/neso-gui\">SDL2 frontend</a></li>\n<li><a href=\"https://github.com/jeffrey-xiao/neso-rs\">Core NES crate</a></li>\n</ul>\n<h2 id=\"cpu\"><a href=\"#cpu\" aria-label=\"cpu permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CPU</h2>\n<p>Implementing the CPU is definitely the first task to complete when building an NES emulator from\nscratch. The CPU is a MOS 6502 CPU with the BCD mode stripped off. For me, the CPU was the easiest,\nbut least interesting component of the NES. The MOS 6502 is well documented and even a transistor\nlevel emulator even exists, so it was fairly easy to implement the addressing modes, and the\ninstructions. I mainly used <a href=\"http://www.obelisk.me.uk/6502/reference.html\">Obelisk's 6502 Reference</a>\nfor most of my implementation. There are some quirks to the CPU (timing when indexing crosses a page\nboundary, <code class=\"language-text\">JMP</code> bug), but these are also all well documented. I did not make a subcycle accurate\nCPU, but there are a variety of ways to do so: generating a finite state machine, using co-routines,\nor using a queue of tasks that each take one cycle.</p>\n<h2 id=\"cartridge-and-nrom\"><a href=\"#cartridge-and-nrom\" aria-label=\"cartridge and nrom permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cartridge and NROM</h2>\n<p>To actually get started on testing, it was necessary to implement Mapper 0 (NROM) and logic for\nparsing cartridges. Overall, mapper 0 and handling iNES cartridges were straightforward, and I did\nnot have much trouble in this step. After I had the same logs as Nintendulator for <code class=\"language-text\">nestest</code>, I\nmoved on to the next component.</p>\n<h2 id=\"ppu\"><a href=\"#ppu\" aria-label=\"ppu permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PPU</h2>\n<p>The PPU is a big step in difficulty from the CPU for a beginner in emulator development like me. It\ntook several days to understand how the different components of the PPU worked together. I found\nthis series of <a href=\"http://www.dustmop.io/blog/2015/04/28/nes-graphics-part-1/\">articles</a> to be\n<em>extremely</em> useful to get started on the PPU. Here are the general steps I took to get a decently\nworking PPU:</p>\n<ol>\n<li>Implement memory mapping and PPU registers.</li>\n<li>Render pattern tables at the end of each frame.</li>\n<li>Render nametables at the end of each frame.</li>\n<li>Implement the background rendering pipeline.</li>\n<li>Implement the sprite evaluation and fetching pipeline.</li>\n</ol>\n<h2 id=\"mappers\"><a href=\"#mappers\" aria-label=\"mappers permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Mappers</h2>\n<p>After the PPU, I decided to put off learning about the APU to instead implement more mappers. With\nthe exception of MMC2 and MMC5, the most complicated logic components for popular mappers are\nPRG/CHR ROM banking and generating interrupts, which are not too bad to implement. I have not gotten\naround to implementing MMC2 because I didn't have a great way of snooping PPU reads, and MMC5\nbecause of its complexity.</p>\n<h2 id=\"apu\"><a href=\"#apu\" aria-label=\"apu permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>APU</h2>\n<p>I initially thought the APU would be more difficult to reason with than the PPU because I had no\nexperience with audio programming. After all, outputting a signal that you can hear <em>seemed</em>\nsignificantly harder than putting pixels on a screen. Sure NESDEV had great documentation on the\ndifferent sound channels (Pulse, Triangle, Noise, and DMC), but I didn't know where to get started.\nI had to gather a couple of observations before I fully understood how to produce sounds:</p>\n<ol>\n<li>Seeing the <a href=\"https://www.youtube.com/watch?v=OfrEoEQpPrI\">oscilloscope view</a> of the chiptune music\nwas useful to see what sounds each channel produced.</li>\n<li>The APU outputs at a frequency of ~1.78 mHz, but most PC sound cards operate at 44.1 kHz or 48\nkHz, so downsampling is required. In other words, if you wanted to downsample to 44.1 kHz, you\nwould record the output of the APU every 1.78 mHz / 44.1 kHz = ~40 cycles. Additionally, every\nframe you would have a buffer of 44.1 kHz / 60 Hz = 735 samples since the NES ran at 60 frames\nper second.</li>\n<li>After the analog audio signals of the channel outputs were combined, the combined signal goes\nthrough a first order high-pass filter at 90 Hz, another first order high-pass filter at 440 Hz,\nand finally a first order low-pass filter at 14 kHz. A high-pass filter attenuates all\nfrequencies lower than the specified frequency, while a low-pass filter attenuates frequencies\nhigher than the specified frequency. These first order filters can be realized using a simple RC\ncircuit and their algorithmic implementations can be found on their respective\n<a href=\"https://en.wikipedia.org/wiki/High-pass_filter\">Wikipedia</a>\n<a href=\"https://en.wikipedia.org/wiki/Low-pass_filter\">pages</a>. I assume these filters are needed to\nreduce <a href=\"https://en.wikipedia.org/wiki/Aliasing\">aliasing</a>.</li>\n</ol>\n<p>After combining these observations, the rest of the process was not complicated. Using the\ninformation on NESDEV, I was able to implement the different channels and was able to play sounds\nusing <code class=\"language-text\">AudioQueue</code> in <code class=\"language-text\">sdl2</code>, or <code class=\"language-text\">BufferSourceNode</code> in <code class=\"language-text\">WebAudio</code>.</p>\n<h2 id=\"compiling-to-webassembly\"><a href=\"#compiling-to-webassembly\" aria-label=\"compiling to webassembly permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Compiling to WebAssembly</h2>\n<p>With no exaggeration, compiling the project to WebAssembly was the easiest step because of how great\nthe documentation and toolchain are. The <a href=\"https://rustwasm.github.io/book/\">Rust Webassembly book</a>\nwas easy to follow and gave great advice for optimizing and profiling your code.\n<a href=\"https://github.com/rustwasm/wasm-pack\">wasm-pack</a> was also a really convenient tool for building,\npackaging and publishing your WebAssembly package. I also wanted to support an SDL2 frontend, so\nmaking <code class=\"language-text\">neso-rs</code> a general purpose crate was ideal. Luckily, with conditional compilation, you can\nhave different dependencies and features depending on the target architecture.</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-rust line-numbers\"><code class=\"language-rust\"><span class=\"token punctuation\">[</span>target<span class=\"token punctuation\">.</span><span class=\"token lifetime-annotation symbol\">'cfg(not(target_arch</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"wasm32\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token lifetime-annotation symbol\">'.dependencies]</span>\nbincode <span class=\"token operator\">=</span> <span class=\"token string\">\"1.0\"</span>\nlog <span class=\"token operator\">=</span> <span class=\"token string\">\"0.4\"</span>\nserde <span class=\"token operator\">=</span> <span class=\"token string\">\"1.0\"</span>\nserde_derive <span class=\"token operator\">=</span> <span class=\"token string\">\"1.0\"</span>\n\n<span class=\"token punctuation\">[</span>target<span class=\"token punctuation\">.</span><span class=\"token lifetime-annotation symbol\">'cfg(target_arch</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"wasm32\"</span><span class=\"token punctuation\">)</span><span class=\"token lifetime-annotation symbol\">'.dependencies]</span>\nconsole_error_panic_hook <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> version <span class=\"token operator\">=</span> <span class=\"token string\">\"0.1.1\"</span><span class=\"token punctuation\">,</span> optional <span class=\"token operator\">=</span> <span class=\"token keyword\">true</span> <span class=\"token punctuation\">}</span>\nwasm<span class=\"token operator\">-</span>bindgen <span class=\"token operator\">=</span> <span class=\"token string\">\"0.2\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><em><center>Snippet in <code class=\"language-text\">Cargo.toml</code> for conditional dependencies.</center></em></p>\n<p>In particular, to keep the WebAssembly bundle size down, it might be worth it to exclude expensive\n\"nice-to-have\" features like save states.</p>\n<h2 id=\"recipe-for-success\"><a href=\"#recipe-for-success\" aria-label=\"recipe for success permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Recipe for Success</h2>\n<h3 id=\"1-have-patience\"><a href=\"#1-have-patience\" aria-label=\"1 have patience permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Have Patience</h3>\n<p>Making an NES emulator was significantly different from most of my previous projects. It is safe to\nsay that I have never been as frustrated with a side project as I was when tackling the PPU. For my\nprevious side projects, I felt that I made steady progress every time I worked on them, but with the\nPPU, there were countless times when I felt that I've hit a wall and could not progress. You could\nhave a mostly working implementation with a couple small bugs that make the game unrecognizable.</p>\n<p>\n  <figure class=\"gatsby-resp-image-figure\" style=\"\">\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 300px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 93.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAIAAAAf7rriAAAACXBIWXMAAC4jAAAuIwF4pT92AAACNklEQVQ4y12TWbOiQAyF+///JV+cebEsl3LDfdwFFBBBdkHng1wp66a0K0knJzmnVQVR9HzmaZpx+v7D8/wgCN37/Y7nP/jEScLHsh3XvROGYRTHif/AQlUUr/f7XRRFnudJHONHURSG4ev1CgKa/TiOialN05SQqyRJCOlXZ93Ismw2m3met1wuL5eLZVkMXiwWz+cT33Ecwu12yy2OaZqGYZzPZ07V/PMXa7VaQBJPJpNut0tps9mkebfbbTYbHCC4ov9wOGiaRgEZBbfhcDgYDFiY+fRMp1M2b7fbgM7nc4azVKfTGY1GtN1uN4bju66r8qJIk+R0OtEMGbCpABVEiCEE5Jm8Wq32+z0FAEGNAqRSaZbRZts2SOPxGHkghgpkOFmBBgpQi5nsDBxJJv/bbMrJNMCHZrBhjoOqsIUYeRwmi1RkaOZpjsejpk0Vz8sm1bt6TKC51+ut1+sgCEj2+32GgAUitBuNBv2UMc8wTJVlpZKAvT9GyJLiUwoEDsw5UZ4XwSFZqh1FMZ3QY1RWGSF7wpCBkuEK5kzjigWBlr34kejX6xUBoYRjVYZDs/DkirB25FckvjJMkwXQ1qmMC3zrY+Jzyp52ZYLPV+m6QQhM3SPzZci1MkIWkaRUUsutQjQQPym7nvZrC9auC9zKyrV1w6ghAUNMaZMkRSxcayH/CrljrfJfharCqu75qaiEwf9mJIKJXwoGHxHM/phUSE899ls/CUvB6rVreb6rf2W+n/M/yL4aNpCyDpoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Donkey Kong Rendering Attempt\"\n        title=\"My first attempt at rendering the title screen of Donkey Kong in grayscale.\"\n        src=\"/static/53682b117d3622ef7b0dc12f0a17e2ac/135ae/donkey-kong-rendering-attempt.png\"\n        srcset=\"/static/53682b117d3622ef7b0dc12f0a17e2ac/19bd1/donkey-kong-rendering-attempt.png 163w,\n/static/53682b117d3622ef7b0dc12f0a17e2ac/135ae/donkey-kong-rendering-attempt.png 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n      />\n    </span>\n  </span>\n  \n  <figcaption class=\"gatsby-resp-image-figcaption\">My first attempt at rendering the title screen of Donkey Kong in grayscale.</figcaption>\n  </figure>\n      </p>\n<p>Many of these bugs are subtle and could require hours of debugging and digging into. The majority of\nmy time spent on the PPU was tracing the rendering pipeline to squash bugs. In particular, I spent\nan embarrassing amount of time fixing an issue with my PPU when I started to test with Super Mario\nBros.</p>\n<p>\n  <figure class=\"gatsby-resp-image-figure\" style=\"\">\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 300px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 99.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAC4jAAAuIwF4pT92AAADLklEQVQ4y4WT208TQRTG5w/BVzWoRPRBCTcviYkPPorxAWmh3RvbbYqiYFEu3d3ZbanKRRSCeAsKSEkMUaMxoiItFLEV44vGGG/xsS1iy+7OMs5CrCgRkl8mZ8433zln2lnAKQsM1B2STskWNNRZxaAVRALGiq3Mcp5sOdVayZYEnJoBTlmvbUd3HqPro6g7hE60m7SkCfCH54IptCKHhNoH0K0HqOsOOtWJGGgFg4+QK2hWSQiQMp7zqHMQdQyiziF0tmeR8801+j8F+nFdJ6KgebzNkK+ixm7EKGSLAjdQ603Tcy7tCSbA0mDIKVuQPiR2SKatRatoztiaMvYWzSmbxEPJlsSq5JjJKum3H1KJVAqwMENKEljF0ijZPNmeeRFLTM4mom8SY9GkK/CThubyGQL5OVyBhd7R1MBYAjj8OCsQc6XPVK7Ovf1CmH/zef79t6TSlyBJIv3xQ9PeQtCAz/uMVsyVfjK8Q0xTctopWdDQyKpZOD9BBzfLy5zK4lLKyM7PWOWyoP+gA0ZM/l9eG2JWSSuDtdquHs9Yx0xDjdyZguRV/XuUVtfrXOOf98jJmtZ0tarTKzQWGoKYXtOsgdGyvPEjm0KHNjTUjTkCmIUamdap4uPw612xmV3DDE3gc/XK7itNzEV340fK+s/J/fVKGTc1vYtX5wtKklLwqsvrjIyd516CqiC2B3HVeUz7STFj6Q1o1ZcnajouXatlBXlh6RX8bVY1WsJ02z3AyylO1OlGjfaZ5PPkFN0pzTc/yS+6D8r76nkJs2qagwusJWm/STMSPnFxClQomOr43jZbVtP/sFzG9gCyq9j7/HDRE3Cs+5oNYlvAsPnxSuwBk5zke1+Cgfq2R8Gj8bs5T3uKB0+KQ3W+27W+B10Hb3TlhMSqUH3r8Fk1dFocPi2FzijDDcqIVx7xikPe4EhzLZjmd8SZ7eO2wmlq1wybO8PkRhwbo0xB3LE7zu2Is5tjgrW+4rbEq7fG+LzXXG6MzY3x26LsTjAuHIgKRWN8YcRdPMGXEJ7ShWHP3jBfEHHvifDFYc+BSbK6Sifd+8Lu/VOu0ghfEnbvGxf2/wLUvOhoioJSSAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Super Mario Bros Rendering Bug\"\n        title=\"Super Mario Bros Rendering Bug\"\n        src=\"/static/ac29b91c2d840a4c83b774bed6b81479/135ae/super-mario-bros-rendering-bug.png\"\n        srcset=\"/static/ac29b91c2d840a4c83b774bed6b81479/19bd1/super-mario-bros-rendering-bug.png 163w,\n/static/ac29b91c2d840a4c83b774bed6b81479/135ae/super-mario-bros-rendering-bug.png 300w\"\n        sizes=\"(max-width: 300px) 100vw, 300px\"\n      />\n    </span>\n  </span>\n  \n  <figcaption class=\"gatsby-resp-image-figcaption\">Super Mario Bros Rendering Bug</figcaption>\n  </figure>\n      </p>\n<p>As you can see, the very last line of the status bar is shifted to the left. I first compared the\nCPU logs between my emulator and <a href=\"https://www.qmtpro.com/~nes/nintendulator/\">Nintendulator</a> to see\nif perhaps I was doing incorrect writes to any PPU register, in particular the <code class=\"language-text\">PPUSCROLL</code> and\n<code class=\"language-text\">PPUADDR</code> registers. Nothing seemed suspicious enough to warrant further investigation. I noticed\nthat when I moved Mario, this line would shift as well, which led me to believe that my scrolling\nlogic was wrong. When I logged the coarse X scroll values at the start of each scanline, I noticed\nthat the first 30 scanlines had a different value than the later scanlines. Note that scanline 30\nwas precisely the last line of the status bar. I was making a write to <code class=\"language-text\">PPUSCROLL</code> in the middle of\nscanline 30, which caused the rest of the scanline to shift leftwards. Interesting... If I were to\nmake that write in the middle of scanline 31, the status bar and the background would render\ncorrectly. At this point, I was convinced that I had a timing issue and by comparing the\nNintendulor's logs, there was approximately 400 PPU clocks between when I wrote to <code class=\"language-text\">PPUSCROLL</code> and\nwhen Nintendulator did.</p>\n<p>After a bit more debugging, I finally found the root cause of the issue. To fully understand what\nwas happening, it is important to grasp <em>how</em> Super Mario Bros was able to scroll the background,\nbut keep the status bar in the same place. This effect is done through changing the scroll\nmid-frame. The status bar scanlines always started with a X scroll value of 0, while the background\nscanlines were affected by the position of Mario. This can simply be done by writing to <code class=\"language-text\">PPUSCROLL</code>\nafter the status bar scanlines were rendered. The way the game knew when the status bar scanlines\nwere rendered was through the\n<a href=\"https://wiki.nesdev.com/w/index.php?title=Sprite-0_hit\">sprite-0 hit</a>. The bottom of the coin was\nactually a sprite, and then when the last status bar scanline was rendered, it would cause a\nsprite-0 hit, signalling to the CPU that it was time to render the background. Now the reason why\nthe last scanline of the status bar was shifted was because I was drawing the sprites one pixel too\nhigh! Duh? Obviously, right? By drawing the coin sprite one pixel too high, the sprite-0 hit was\nbeing triggered one scanline earlier, which caused the scroll value to change one scanline too\nearly!</p>\n<p>These were the steps I had to take to resolve just <em>one</em> bug from the countless that I encountered.\nMaking an emulator definitely requires an exorbitant amount of patience to slowly pick apart the\nsystem and debug these kind of issues. But, I believe that going through this ordeal is how you best\nlearn about a low level system like the NES.</p>\n<h3 id=\"2-write-automated-tests\"><a href=\"#2-write-automated-tests\" aria-label=\"2 write automated tests permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. Write Automated Tests</h3>\n<p>It's clear that debugging small bugs takes a large portion of your development time and probably\nleads to a lot of hair pulling and frustration. What can we do to mitigate this? Write automated\ntests! The kind folks at the <a href=\"https://forums.nesdev.com/\">NESDEV forums</a> have written various test\nROMs for all parts of the NES. A comprehensive list can be found\n<a href=\"https://wiki.nesdev.com/w/index.php/Emulator_tests\">here</a>.</p>\n<p>As soon as I had a reasonably functioning CPU, I started working on integrating these test ROMs to\nprevent regressions from happening and to squash bugs early in the development process. The majority\nof my tests fall under one of two categories: text tests, and graphical tests.</p>\n<p>Most of blargg's test ROMs output the status of the test to <code class=\"language-text\">$6000</code> and the output of the test to\n<code class=\"language-text\">$6004</code>, so it suffices to see if you passed the test if <code class=\"language-text\">Passed</code> exists as a substring at <code class=\"language-text\">$6004</code>\nwhen the test finishes.</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-rust line-numbers\"><code class=\"language-rust\"><span class=\"token comment\">// Run until test status is running by polling $6000.</span>\n<span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> addr <span class=\"token operator\">=</span> <span class=\"token number\">0x6000</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> byte <span class=\"token operator\">=</span> nes<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">.</span><span class=\"token function\">read_byte</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">while</span> byte <span class=\"token operator\">!=</span> <span class=\"token number\">0x80</span> <span class=\"token punctuation\">{</span>\n    nes<span class=\"token punctuation\">.</span><span class=\"token function\">step_frame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    byte <span class=\"token operator\">=</span> nes<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">.</span><span class=\"token function\">read_byte</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Run until test status is finished by polling $6000.</span>\nbyte <span class=\"token operator\">=</span> nes<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">.</span><span class=\"token function\">read_byte</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">while</span> byte <span class=\"token operator\">==</span> <span class=\"token number\">0x80</span> <span class=\"token punctuation\">{</span>\n    nes<span class=\"token punctuation\">.</span><span class=\"token function\">step_frame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    byte <span class=\"token operator\">=</span> nes<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">.</span><span class=\"token function\">read_byte</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// Read output at $6004.</span>\n<span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> output <span class=\"token operator\">=</span> Vec<span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\naddr <span class=\"token operator\">=</span> <span class=\"token number\">0x6004</span><span class=\"token punctuation\">;</span>\nbyte <span class=\"token operator\">=</span> nes<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">.</span><span class=\"token function\">read_byte</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">while</span> byte <span class=\"token operator\">!=</span> <span class=\"token char string\">'\\0'</span> <span class=\"token keyword\">as</span> u8 <span class=\"token punctuation\">{</span>\n    output<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>byte<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    addr <span class=\"token operator\">+=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    byte <span class=\"token operator\">=</span> nes<span class=\"token punctuation\">.</span>cpu<span class=\"token punctuation\">.</span><span class=\"token function\">read_byte</span><span class=\"token punctuation\">(</span>addr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">assert!</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">::</span><span class=\"token function\">from_utf8_lossy</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>output<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Passed\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><em><center>Code for text tests.</center></em></p>\n<p>As soon as you have a functional PPU, you can also start writing graphical tests. As the name\nimplies, graphical tests output the result of the test to the screen, making it a bit more\ncomplicated than text tests. The way I approached these tests was to figure out the number of frames\nto run the test before the output was displayed, and then to compute the hash of the screen after it\nhad finished. Then, I could integrate the number of frames and the hash into a simple function that\nran for the specified number of frames and compared the hashes.</p>\n<div class=\"gatsby-highlight\" data-language=\"rust\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-rust line-numbers\"><code class=\"language-rust\"><span class=\"token keyword\">for</span> _ <span class=\"token keyword\">in</span> <span class=\"token number\">0</span><span class=\"token punctuation\">..</span>$frames <span class=\"token punctuation\">{</span>\n    nes<span class=\"token punctuation\">.</span><span class=\"token function\">step_frame</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> <span class=\"token keyword\">mut</span> hasher <span class=\"token operator\">=</span> DefaultHasher<span class=\"token punctuation\">::</span><span class=\"token function\">new</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> val <span class=\"token keyword\">in</span> nes<span class=\"token punctuation\">.</span>ppu<span class=\"token punctuation\">.</span>buffer<span class=\"token punctuation\">.</span><span class=\"token function\">iter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    hasher<span class=\"token punctuation\">.</span><span class=\"token function\">write_u8</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>val<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">assert_eq!</span><span class=\"token punctuation\">(</span>hasher<span class=\"token punctuation\">.</span><span class=\"token function\">finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> $hash<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><em><center>Code for graphical tests.</center></em></p>\n<p>More sophisticated automated tests can be written with actual games. If you poll for controller\ninput at the beginning of each frame, it is feasible to play through an actual game and record when\ncertain buttons are pressed and released. By feeding this record of button presses and releases back\ninto the emulator, you can deterministically replay games and see if the output at each frame has\nchanged or not. Similar logic can be seen in FCEUX's movie file format,\n<a href=\"http://www.fceux.com/web/FM2.html\">FM2</a>.</p>\n<h3 id=\"3-implement-debugging-infrastructure\"><a href=\"#3-implement-debugging-infrastructure\" aria-label=\"3 implement debugging infrastructure permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. Implement Debugging Infrastructure</h3>\n<p>Another way to help track down nasty bugs is to develop debugging infrastructure for your emulator.\nFor the CPU, a disassembler that prints the program counter, the opcode, the addressing mode, the\ncurrent cycle the CPU is on, the CPU registers, the addressing mode, and the relevant operand can\nassist in verifying if your CPU implementation is correct. In fact, one of the best early tests for\nyour CPU is to do a line-by-line comparison with the execution log of Nintendulator. A caveat for\nthe disassembler is that if you are printing out the relevant operand of the opcode, you must be\ncareful not to affect the state of any component. Reads to some memory locations can actually change\nthe state of a component. For example, reading <code class=\"language-text\">PPUSTATUS</code> will clear the flag that indicates if a v\nblank has started. Every memory read function should have a complementary memory peek function to\navoid any mutations in state.</p>\n<p>For the PPU, implementing debug views for the palette, nametables, and pattern tables was extremely\nuseful for me. I was able to fix issues related to mirroring and scrolling by examining the contents\nof the nametables, and figure out if I was doing CHR ROM banking correctly by checking if the\nexpected sprite and background data showed up in the pattern tables.</p>\n<p>\n  <figure class=\"gatsby-resp-image-figure\" style=\"\">\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 71.9298245614035%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAC4jAAAuIwF4pT92AAADYUlEQVQozwFWA6n8AFpUU0dIR1IqH2c0JVAdEkQZDkkvJkBBQRgYGB8fH3NwboZYU2J0f7Kwr5GVlYtmXaNSSI+Uk55vZoZybgCilZKIiIZWWlx/gICSOitdXF1LZW6ppqekpKOnqKmal5aCXmBWeJCTiYRyaWOafnCKZGJPepWqgnQ3U28AfoyNXWpqjY6NjoWEt1Q/Q2x8Kll9r6WmpaGgrq2skYiCnYB6eXR0kXxvoJSMpJeRmYODe4iYo5SIZHaLAEdjhylPdq+vroeAgLFSPElofytRfrOvr6apqpydn08+NT4qHj8lGEMyKDsnHTEgFjUsIjglGTEgFj0sIABHbX8sW26trKuIgYC1UTxCXm0wXXqjoqNsSDyBUkBCQ0NTLig6NzdKS00+RUg8IyBOFxJKPDk+JCBLMSwASGOPEzdofX9+jIWFk0k5lZKkdH+XPDQvgHFpoYl8i4SAg1xbYHyPu7i2jouJlXNmpmFYg5Scsn5wdG9yAH6PmWR6hZuWk3h2doZsY7GajGBWS3t0b6+wsJSYmo+OjY1qbFl0ioV0an1xaaOMgIdqa056l6SKfjZWdgCDVDmCVDt8UDZrQCdzRixtOh5eNR+IWT91SzN+Ujl6a2SJdG52Y1qHdW2PgnuCeXKDeXR2d3qCeG5ob3YAa2xsTU5OT05OSEhHc3NzcnNzZGRkR0dHWFlZZWNjOicYKRkFQSENRSIQPCQYYjgoWCkbRCYZVCwaYjEhAKCgoLa2tra2tpybm7Ozs5CPj5qZmainp72+v8XDvFM4VhwQWVAiSmIXHWsjGlU7HzhEFScyJj4oIkUiGQChoaGlpaWtra2/v7+enp6fn5+FhYVubm50dXe+t652nNUJSvyZJ+DnElHfRANxiQABrgoFkGACFh4AAAAAf39/dXV1ioqKdnZ2mZmZwsLCmpqaj4+PjY6PvLWzw+/7faz83pf//Yuq/7dy5NtKl/JyU//eXYqWFwkEALKxspuamtLS0q2trKysq7CwsL29vcfHx8XFxaGhont5csykjnRDNLGInMdhX0o/bzuYhBVXKc+NkbNCLQDh4+fh4+fc3+Lo6+6doKO0t7rU1tnMztLU1tjDyc+RgXDZs49wV1Wmls1/cIZ7eXJ8oMNHSU7Oc22Tb4AmxYCxegMIVgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Castlevania Debug Views\"\n        title=\"Castlevania Debug Views\"\n        src=\"/static/d7691e7365c72db4745c34f216329360/dbb61/castlevania-debug-views.png\"\n        srcset=\"/static/d7691e7365c72db4745c34f216329360/19bd1/castlevania-debug-views.png 163w,\n/static/d7691e7365c72db4745c34f216329360/d3bcb/castlevania-debug-views.png 325w,\n/static/d7691e7365c72db4745c34f216329360/dbb61/castlevania-debug-views.png 650w,\n/static/d7691e7365c72db4745c34f216329360/6b691/castlevania-debug-views.png 975w,\n/static/d7691e7365c72db4745c34f216329360/751e3/castlevania-debug-views.png 1026w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n      />\n    </span>\n  </span>\n  \n  <figcaption class=\"gatsby-resp-image-figcaption\">Castlevania Debug Views</figcaption>\n  </figure>\n      </p>\n<p>Implementing these debug views also requires a solid understand of how the pattern tables,\nnametables, object attribute memory (OAM), attribute tables, and palettes work together, which makes\nit great warm up for actually implementing the PPU rendering pipeline.</p>\n<h2 id=\"final-thoughts\"><a href=\"#final-thoughts\" aria-label=\"final thoughts permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Final Thoughts</h2>\n<p>Writing my own NES emulator from scratch was a very rewarding process that did have some frustrating\nmoments. I think it is a great system to learn and dig into because of all the widely available\ndocumentation. It is also really amazing to see how developers were able to overcome limitations in\nhardware and still produce pretty amazing games.</p>","headings":[{"value":"Introduction","depth":2},{"value":"CPU","depth":2},{"value":"Cartridge and NROM","depth":2},{"value":"PPU","depth":2},{"value":"Mappers","depth":2},{"value":"APU","depth":2},{"value":"Compiling to WebAssembly","depth":2},{"value":"Recipe for Success","depth":2},{"value":"1. Have Patience","depth":3},{"value":"2. Write Automated Tests","depth":3},{"value":"3. Implement Debugging Infrastructure","depth":3},{"value":"Final Thoughts","depth":2}],"frontmatter":{"date_created":"2018-11-12T00:00:00.000Z","path":"/blog/writing-an-nes-emulator-with-rust-and-webassembly","tags":["Emulation","Programming","Rust","WebAssembly"],"title":"Writing an NES Emulator with Rust and WebAssembly"}}},{"node":{"html":"<p>\n  <figure class=\"gatsby-resp-image-figure\" style=\"\">\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 49.948132780082986%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAByUlEQVQoz21QbWvTUBTO75vC1pfJ6mdRQd1X8UN0WJo0bVeUQr/6A3TSiSJ+EkFpnUKlNS/E1rl0SXPzcq+h6e6a3iSeLXaC7HA4PM/heQ6Hh2uWtqTcRi2fg35S2moUC9XcOmApn3u8sS4W8rubRdg/vV6qF/LNa0WYmVjaLHKoUXPEilMVoKdCmTTruFGzxYpXE/TyI7W8gyQBKJJEty6hldKtChOxwi0Zi5MEGkCapt1e77ssAxh7oebSIDwJw/A0igJCjn4d0tNFJk7S9IRSLj4DZxVFEcxWq7W39xLA6x+kM0mePd/vfvoIVBv0h18PIsaSlX65XHJxHF8QmDzPt9ttAEduMAkWLzqvPvd6QAfDIXwEmgszY+yfGbaGYciyrKqqjZBtmbqmaKo2tW3TtBRFUTXNsqx0Vf+bfc8jBPuuG2AMh3RdH49GU9PEGCOEHISI511uhpqF82MbHxvTmY8pXYTz+Yz8DjGhlPq+75rTwHEuMWexdfvGDf7NzZ234wlJY8rcDnP3IY2RPt5+sH1n9648VLIf/5rZeYDs/MSHg8P7zff3Ku+0n37KCBvcYoPbaTJTv+lX+StrD9f6X/qZDSwQ3h+gmfFEGAF1NQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Old Personal Website With Angular 1\"\n        title=\"Old Personal Website With Angular 1\"\n        src=\"/static/2363600cfbff47cbe34828a5471eabdb/dbb61/angular-site.png\"\n        srcset=\"/static/2363600cfbff47cbe34828a5471eabdb/19bd1/angular-site.png 163w,\n/static/2363600cfbff47cbe34828a5471eabdb/d3bcb/angular-site.png 325w,\n/static/2363600cfbff47cbe34828a5471eabdb/dbb61/angular-site.png 650w,\n/static/2363600cfbff47cbe34828a5471eabdb/6b691/angular-site.png 975w,\n/static/2363600cfbff47cbe34828a5471eabdb/91670/angular-site.png 1300w,\n/static/2363600cfbff47cbe34828a5471eabdb/c1867/angular-site.png 1928w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n      />\n    </span>\n  </span>\n  \n  <figcaption class=\"gatsby-resp-image-figcaption\">Old Personal Website With Angular 1</figcaption>\n  </figure>\n      </p>\n<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>The first version of my personal website was created late 2015 when Angular 1 was one of the most\npopular frontend frameworks to use and React was an up-and-comer in the JavaScript land. After three\nyears of updating content with a homegrown Angular 1 site, I decided to pick up something new and\n<em>reactive</em>.</p>\n<h2 id=\"gatsby\"><a href=\"#gatsby\" aria-label=\"gatsby permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby</h2>\n<p>Instead of building my entire site from scratch using React, I wanted to use a pre-existing static\nsite templator because the majority of my website would consist of a résumé, numerous blog entries,\nand various side-projects. One particular static site templator caught my eye — Gatsby. Gatsby\nessentially combines all the latest web technologies (React, Webpack, SCSS, etc.) to help you\nefficiently scaffold and build out your site. One of the most appealing parts of Gatsby was the\nGraphQL layer that you can use while building the site. However, the end result of Gatsby is still\nstatic files. Gatsby is easy to develop with and generates performant static sites.</p>\n<h2 id=\"redesign\"><a href=\"#redesign\" aria-label=\"redesign permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redesign</h2>\n<p>This time around, I opted for a more minimalistic design. I felt like my old site felt a bit chunky\nand messy. Though, I kept most of the content layout.</p>\n<h2 id=\"graphql\"><a href=\"#graphql\" aria-label=\"graphql permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GraphQL</h2>\n<p>The GraphQL layer was extremely handy when building out the redesign. In the Angular 1 version of my\nsite, most of the data for my projects and blog was maintained as a\n<a href=\"https://github.com/jeffrey-xiao/personal-website-old/blob/master/app/global.js\">global Angular module</a>\nso various Angular controllers had access to them. Ultimately, this meant that maintaining it was\nrather difficult. Using Gatsby, I was able to extract that data into Markdown or JSON files and then\nfetch it using GraphQL when the page needed it.</p>\n<h2 id=\"plugins\"><a href=\"#plugins\" aria-label=\"plugins permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Plugins</h2>\n<p>Another huge improvement gained from using Gatsby was the availability of various plugins. On the\noff chance that a plugin that you needed didn't exist, it was incredible easy to create your own and\nsubmit a <a href=\"https://github.com/gatsbyjs/gatsby/pull/1731\">PR</a>. On the other hand, for the Angular 1\nversion, I either didn't find the plugin I needed or the plugin simply didn't do want I wanted it to\ndo. As a result, I found myself reinventing the wheel more than once. The\n<a href=\"https://github.com/jeffrey-xiao/personal-website-old/blob/master/app/blog/entry/entryDirective.js\">custom regex-based syntax-highlighter</a>\nI built to highlight Java, C++, and Python files was made obsolete with the Prism.js plugin for\nMarkdown files in Gatsby.</p>\n<h2 id=\"performance\"><a href=\"#performance\" aria-label=\"performance permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Performance</h2>\n<p>After clicking through both versions of my personal site side-by-side, Gatsby is definitely much\nmore performant and snappy compared to Angular 1. One of the big performance optimizations that\nGatsby does is that it\n<a href=\"https://github.com/jeffrey-xiao/personal-website-old/blob/gatsby/gatsby-node.js\">generates</a> a JSON\nfile for each route, only one file will be fetched per route, and React.js can use its virtual DOM\nto efficiently rerender the page. Routing in Angular 1, however, is done dynamically. For example,\nwhen the user requests <code class=\"language-text\">/blog/1</code>, the\n<a href=\"https://github.com/jeffrey-xiao/personal-website-old/blob/master/app/blog/blogController.js\">blog controller</a>\nwould generate the necessary data to pass to the blog view.</p>\n<h2 id=\"final-thoughts\"><a href=\"#final-thoughts\" aria-label=\"final thoughts permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Final Thoughts</h2>\n<p>Switching to Gatsby instead of maintaining the Angular 1 version of my site was definitely the sane\nchoice to make. Gatsby makes static site generation painless and creates a performant single page\napplication.</p>","headings":[{"value":"Introduction","depth":2},{"value":"Gatsby","depth":2},{"value":"Redesign","depth":2},{"value":"GraphQL","depth":2},{"value":"Plugins","depth":2},{"value":"Performance","depth":2},{"value":"Final Thoughts","depth":2}],"frontmatter":{"date_created":"2017-09-24T00:00:00.000Z","path":"/blog/personal-website-redesign","tags":["Web Development","Programming"],"title":"Personal Website Redesign"}}},{"node":{"html":"<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>The first round of the provincial ECOO competition happened on Wednesday. You can access the\nproblems <a href=\"/ECOO-Round-1-Problems-809f7941aea0a4afb682c3334fae2c09.pdf\">here</a>.</p>\n<h2 id=\"problem-1-pass-or-fail\"><a href=\"#problem-1-pass-or-fail\" aria-label=\"problem 1 pass or fail permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Problem 1: Pass or Fail</h2>\n<p>This problem simply asks whether the weighted average of a student's test, assignment, project, and\nquiz scores are above or equal to 50%.</p>\n<p>A student passes the course if the following inequality holds true:</p>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>W</mi><mi>T</mi></msub><mo>×</mo><mi>T</mi><mo>+</mo><msub><mi>W</mi><mi>A</mi></msub><mo>×</mo><mi>A</mi><mo>+</mo><msub><mi>W</mi><mi>P</mi></msub><mo>×</mo><mi>P</mi><mo>+</mo><msub><mi>W</mi><mi>Q</mi></msub><mo>×</mo><mi>Q</mi><mo>&gt;</mo><mo>=</mo><mn>5</mn><mn>0</mn><mi mathvariant=\"normal\">%</mi></mrow><annotation encoding=\"application/x-tex\">W_T \\times T + W_A \\times A + W_P \\times P + W_Q \\times Q &gt;= 50\\%</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1.036108em;vertical-align:-0.286108em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\" style=\"margin-right:0.13889em;\">T</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\">A</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\">A</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.32833099999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\" style=\"margin-right:0.13889em;\">P</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">P</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">W</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.328331em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\">Q</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\">Q</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">5</span><span class=\"mord\">0</span><span class=\"mord\">%</span></span></span></span></span>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></p>\n<h2 id=\"problem-2-spindie\"><a href=\"#problem-2-spindie\" aria-label=\"problem 2 spindie permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Problem 2: Spindie</h2>\n<h3 id=\"solution-1\"><a href=\"#solution-1\" aria-label=\"solution 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution 1</h3>\n<p>First notice that the number of integers on the spinner is very large (<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn><mo>&lt;</mo><mo>=</mo><mi>N</mi><mo>&lt;</mo><mo>=</mo><mn>5</mn><mn>0</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">1 &lt;= N &lt;= 5000</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.72243em;vertical-align:-0.0391em;\"></span><span class=\"base\"><span class=\"mord\">1</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">5</span><span class=\"mord\">0</span><span class=\"mord\">0</span><span class=\"mord\">0</span></span></span></span>), but the\nactual range of values each integer can take on is very small (<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn><mo>&lt;</mo><mo>=</mo><msub><mi>S</mi><mi>i</mi></msub><mo>&lt;</mo><mo>=</mo><mn>1</mn><mn>0</mn><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">1 &lt;= S_i &lt;= 100</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"base\"><span class=\"mord\">1</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.31166399999999994em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.05764em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\">i</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">1</span><span class=\"mord\">0</span><span class=\"mord\">0</span></span></span></span>). Additionally, the\nnumber of occurrences of each value does not matter. Thus we can have three loops that iterate\nthrough all possible values and check the following four cases to see if a value is possible:</p>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>1</mn><mi mathvariant=\"normal\">.</mi><mtext> </mtext><mo>(</mo><mi>A</mi><mo>×</mo><mi>B</mi><mo>)</mo><mo>×</mo><mi>C</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>2</mn><mi mathvariant=\"normal\">.</mi><mtext> </mtext><mo>(</mo><mi>A</mi><mo>+</mo><mi>B</mi><mo>)</mo><mo>×</mo><mi>C</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>3</mn><mi mathvariant=\"normal\">.</mi><mtext> </mtext><mo>(</mo><mi>A</mi><mo>×</mo><mi>B</mi><mo>)</mo><mo>+</mo><mi>C</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"true\"><mrow><mrow></mrow><mn>4</mn><mi mathvariant=\"normal\">.</mi><mtext> </mtext><mo>(</mo><mi>A</mi><mo>+</mo><mi>B</mi><mo>)</mo><mo>+</mo><mi>C</mi></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding=\"application/x-tex\">\\begin{aligned}\n  &amp;1.\\ (A \\times B) \\times C \t\\\\\n  &amp;2.\\ (A + B) \\times C\t\t    \\\\\n  &amp;3.\\ (A \\times B) + C\t\t    \\\\\n  &amp;4.\\ (A + B) + C\t\t\t      \\\\\n\\end{aligned}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:3.25em;\"></span><span class=\"strut bottom\" style=\"height:6em;vertical-align:-2.7500000000000004em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-r\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.25em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-3.75em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-2.249999999999999em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span><span style=\"top:-0.7499999999999996em;\"><span class=\"pstrut\" style=\"height:2.84em;\"></span><span class=\"mord\"></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.7500000000000004em;\"></span></span></span></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:3.25em;\"><span style=\"top:-5.41em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">1</span><span class=\"mord\">.</span><span class=\"mspace\"> </span><span class=\"mopen\">(</span><span class=\"mord mathit\">A</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.07153em;\">C</span></span></span><span style=\"top:-3.91em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">2</span><span class=\"mord\">.</span><span class=\"mspace\"> </span><span class=\"mopen\">(</span><span class=\"mord mathit\">A</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.07153em;\">C</span></span></span><span style=\"top:-2.4099999999999993em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">3</span><span class=\"mord\">.</span><span class=\"mspace\"> </span><span class=\"mopen\">(</span><span class=\"mord mathit\">A</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">×</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.07153em;\">C</span></span></span><span style=\"top:-0.9099999999999997em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord\"></span><span class=\"mord\">4</span><span class=\"mord\">.</span><span class=\"mspace\"> </span><span class=\"mopen\">(</span><span class=\"mord mathit\">A</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.05017em;\">B</span><span class=\"mclose\">)</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.07153em;\">C</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:2.7500000000000004em;\"></span></span></span></span></span></span></span></span></span></span>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>S</mi><mn>3</mn></msup><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(S^3)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.8141079999999999em;\"></span><span class=\"strut bottom\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.05764em;\">S</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></p>\n<h3 id=\"solution-2\"><a href=\"#solution-2\" aria-label=\"solution 2 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution 2</h3>\n<p>Generate pairs of spinner values and store it in a map. Then work backwards from the target values\nand check if it exists in the map.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo>+</mo><mi>T</mi><mi>N</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^2 + TN)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.8141079999999999em;\"></span><span class=\"strut bottom\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">T</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></p>\n<h2 id=\"problem-3-railway-sort\"><a href=\"#problem-3-railway-sort\" aria-label=\"problem 3 railway sort permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Problem 3: Railway Sort</h2>\n<p>Make the observation that any value <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.07847em;\">X</span></span></span></span> cannot be moved until <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>X</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">X + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">1</span></span></span></span> is before <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>X</mi><mo>+</mo><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">X + 2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">2</span></span></span></span> in order to\nhave the minimal amount of movements. Then iterate starting from <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span></span></span></span> and only move value <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.07847em;\">X</span></span></span></span> if it\noccurs after <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>X</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">X + 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.76666em;vertical-align:-0.08333em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">1</span></span></span></span>.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^2)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.8141079999999999em;\"></span><span class=\"strut bottom\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>, or <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span> if you are smart about the implementation.</p>\n<h2 id=\"problem-4-kayenne\"><a href=\"#problem-4-kayenne\" aria-label=\"problem 4 kayenne permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Problem 4: Kayenne</h2>\n<p>Store the houses in a set to check if your current position is already occupied by a house. Then you\ncan just brute force and check all possible values that is in the radius. My team checked all <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.07847em;\">X</span></span></span></span>\nand <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.22222em;\">Y</span></span></span></span> where <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>C</mi><mi>x</mi></msub><mo>−</mo><mn>5</mn><mn>0</mn><mo>&lt;</mo><mo>=</mo><mi>X</mi><mo>&lt;</mo><mo>=</mo><msub><mi>C</mi><mi>x</mi></msub><mo>+</mo><mn>5</mn><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">C_x - 50 &lt;= X &lt;= C_x + 50</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.83333em;vertical-align:-0.15em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">5</span><span class=\"mord\">0</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.07847em;\">X</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.151392em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\">x</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">5</span><span class=\"mord\">0</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>C</mi><mi>y</mi></msub><mo>−</mo><mn>5</mn><mn>0</mn><mo>&lt;</mo><mo>=</mo><mi>Y</mi><mo>&lt;</mo><mo>=</mo><msub><mi>C</mi><mi>y</mi></msub><mo>+</mo><mn>5</mn><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">C_y - 50 &lt;= Y &lt;= C_y + 50</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.969438em;vertical-align:-0.286108em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">5</span><span class=\"mord\">0</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.07153em;\">C</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15139200000000003em;\"><span style=\"top:-2.5500000000000003em;margin-left:-0.07153em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">5</span><span class=\"mord\">0</span></span></span></span>. Then we checked if point\n<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>(</mo><mi>X</mi><mo separator=\"true\">,</mo><mi>Y</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">(X, Y)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.07847em;\">X</span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.22222em;\">Y</span><span class=\"mclose\">)</span></span></span></span> was in the radius or on a house. Finally, we inserted all the houses in a priority queue\nand determined if it was democratic or republican.</p>","headings":[{"value":"Introduction","depth":2},{"value":"Problem 1: Pass or Fail","depth":2},{"value":"Problem 2: Spindie","depth":2},{"value":"Solution 1","depth":3},{"value":"Solution 2","depth":3},{"value":"Problem 3: Railway Sort","depth":2},{"value":"Problem 4: Kayenne","depth":2}],"frontmatter":{"date_created":"2016-04-08T00:00:00.000Z","path":"/blog/ecoo-round-1-analysis","tags":["Programming","Competition"],"title":"ECOO Round 1 Analysis"}}},{"node":{"html":"<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>The CEMC servers were DDOS'd on the day of the CCC, so they had another contest to decide CCO\ninvitees. Here is my analysis on the problems:</p>\n<h2 id=\"p1-stupendous-bowties\"><a href=\"#p1-stupendous-bowties\" aria-label=\"p1 stupendous bowties permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>P1: Stupendous Bowties</h2>\n<p>You can only make a bowtie given five points <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>p</mi><mn>1</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>2</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>3</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>4</mn></msub><mo separator=\"true\">,</mo><msub><mi>p</mi><mn>5</mn></msub></mrow><annotation encoding=\"application/x-tex\">p_1, p_2, p_3, p_4, p_5</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.43056em;\"></span><span class=\"strut bottom\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">1</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">2</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">5</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span></span></span></span> if they meet the following\nfour conditions:</p>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>p</mi><mrow><mn>1</mn><mi>x</mi></mrow></msub><mo>=</mo><msub><mi>p</mi><mrow><mn>2</mn><mi>x</mi></mrow></msub><mo>=</mo><msub><mi>p</mi><mrow><mn>3</mn><mi>x</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">p_{1x} = p_{2x} = p_{3x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.43056em;\"></span><span class=\"strut bottom\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mord mathit mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mathit mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mathit mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span></span></span></span></span>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>p</mi><mrow><mn>4</mn><mi>y</mi></mrow></msub><mo>=</mo><msub><mi>p</mi><mrow><mn>5</mn><mi>y</mi></mrow></msub><mo>=</mo><msub><mi>p</mi><mrow><mn>3</mn><mi>x</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">p_{4y} = p_{5y} = p_{3x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.43056em;\"></span><span class=\"strut bottom\" style=\"height:0.716668em;vertical-align:-0.286108em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mord mathit mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span><span class=\"mord mathit mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mathit mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span></span></span></span></span>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>p</mi><mrow><mn>4</mn><mi>x</mi></mrow></msub><mo>&lt;</mo><msub><mi>p</mi><mrow><mn>3</mn><mi>x</mi></mrow></msub><mo>&lt;</mo><msub><mi>p</mi><mrow><mn>5</mn><mi>x</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">p_{4x} &lt; p_{3x} &lt; p_{5x}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.5391em;\"></span><span class=\"strut bottom\" style=\"height:0.7335400000000001em;vertical-align:-0.19444em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">4</span><span class=\"mord mathit mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mathit mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.30110799999999993em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">5</span><span class=\"mord mathit mtight\">x</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.15em;\"></span></span></span></span></span></span></span></span></span>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>p</mi><mrow><mn>1</mn><mi>y</mi></mrow></msub><mo>&lt;</mo><msub><mi>p</mi><mrow><mn>3</mn><mi>y</mi></mrow></msub><mo>&lt;</mo><msub><mi>p</mi><mrow><mn>2</mn><mi>y</mi></mrow></msub></mrow><annotation encoding=\"application/x-tex\">p_{1y} &lt; p_{3y} &lt; p_{2y}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.5391em;\"></span><span class=\"strut bottom\" style=\"height:0.8252079999999999em;vertical-align:-0.286108em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span><span class=\"mord mathit mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">3</span><span class=\"mord mathit mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"></span></span></span></span></span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\"><span class=\"mord mathit\">p</span><span class=\"msupsub\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.301108em;\"><span style=\"top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span><span class=\"mord mathit mtight\" style=\"margin-right:0.03588em;\">y</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.286108em;\"></span></span></span></span></span></span></span></span></span>\n<p>In other words, a naive solution would find the points above, below, to the right, and to the left\nof point <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.43056em;\"></span><span class=\"strut bottom\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"base\"><span class=\"mord mathit\">p</span></span></span></span>. The number of valid bowties would be\n<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>2</mn><mo>∗</mo><mtext>above</mtext><mo>∗</mo><mtext>below</mtext><mo>∗</mo><mtext>right</mtext><mo>∗</mo><mtext>left</mtext></mrow><annotation encoding=\"application/x-tex\">2*\\text{above}*\\text{below}*\\text{right}*\\text{left}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.69444em;\"></span><span class=\"strut bottom\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"base\"><span class=\"mord\">2</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord text\"><span class=\"mord\">above</span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord text\"><span class=\"mord\">below</span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord text\"><span class=\"mord\">right</span></span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">∗</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord text\"><span class=\"mord\">left</span></span></span></span></span>.</p>\n<p>To speed the algorithm up, we can put each point <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.43056em;\"></span><span class=\"strut bottom\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"base\"><span class=\"mord mathit\">p</span></span></span></span> in buckets representing unique x coordinates\nand y coordinates. By sorting each bucket, we can then find the number of valid bowties with point\n<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>p</mi></mrow><annotation encoding=\"application/x-tex\">p</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.43056em;\"></span><span class=\"strut bottom\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"base\"><span class=\"mord mathit\">p</span></span></span></span> at the center.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>N</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N\\ log\\ N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathit\">o</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></p>\n<p><a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/contest/ccc/CCOQR_2016_P1.java\">Link to Code</a></p>\n<h2 id=\"p2-through-a-maze-darkly\"><a href=\"#p2-through-a-maze-darkly\" aria-label=\"p2 through a maze darkly permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>P2: Through A Maze Darkly</h2>\n<p>Let us denote a position as the next corridor you will enter, walking on the right side of the wall.\nContinuously walking along the right side of a wall will yield in a cycle and cause you to return to\nyour starting position. However, it is possible that you may enter your starting room more than\nonce.</p>\n<p>Because the number of cycles in the graph is proportional to <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>M</mi></mrow><annotation encoding=\"application/x-tex\">M</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">M</span></span></span></span>, the number of edges, we can\ntraverse all possible cycles in the graph and determine the longest cycles for each room.</p>\n<p>In order to implement this, you can use a adjacency map where each edge maps to the next clockwise\nedge. While traversing each cycle, maintain two arrays that track the first time a room has been\nentered and the last time a room has been entered. Using these arrays, you can determine all the\nroom cycle lengths. The maximum of them will be your answer.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mi>M</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(NM)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">M</span><span class=\"mclose\">)</span></span></span></span></p>\n<p><a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/contest/ccc/CCOQR_2016_P2.java\">Link to Code</a></p>\n<h2 id=\"p3-data-structure\"><a href=\"#p3-data-structure\" aria-label=\"p3 data structure permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>P3: Data Structure</h2>\n<p>Visualize the triangle as a right-angled triangle. For example, the input would look like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">0\n00\n100\n0001\n00000\n010000</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>We can then do a line sweep and calculate the area of the trapezoids to figure out the minimum data\nneeded. The height of the current column will be\n<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>max</mtext><mo>(</mo><mtext>curr height</mtext><mo separator=\"true\">,</mo><mtext>prev height - dist</mtext><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">\\text{max}(\\text{curr height}, \\text{prev height - dist})</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord text\"><span class=\"mord\">max</span></span><span class=\"mopen\">(</span><span class=\"mord text\"><span class=\"mord\">curr height</span></span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord text\"><span class=\"mord\">prev height - dist</span></span><span class=\"mclose\">)</span></span></span></span>. The area between the current column and\nprevious column will be the sum of the triangle and square.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>M</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>M</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(M\\ log \\ M)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">M</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathit\">o</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">M</span><span class=\"mclose\">)</span></span></span></span></p>\n<p><a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/contest/ccc/CCOQR_2016_P3.java\">Link to Code</a></p>","headings":[{"value":"Introduction","depth":2},{"value":"P1: Stupendous Bowties","depth":2},{"value":"P2: Through A Maze Darkly","depth":2},{"value":"P3: Data Structure","depth":2}],"frontmatter":{"date_created":"2016-03-11T00:00:00.000Z","path":"/blog/ccoqr-2016-analysis","tags":["Programming","Competition"],"title":"CCOQR 2016 Analysis"}}},{"node":{"html":"<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>I recently wrote the CCC Senior Division. I just wanted to share my analysis for each problem.</p>\n<h2 id=\"s1-ragaman\"><a href=\"#s1-ragaman\" aria-label=\"s1 ragaman permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>S1: Ragaman</h2>\n<p>First let us consider the number of matched characters in string one and string two. If there are\ncharacters in string two that cannot be matched with characters in string one, it cannot be an\nanagram. We don't have to consider the number of wildcards because we can just match it with the\nunmatched characters in string one. Therefore, just keep a count of the characters in string one\nsubtracted by the characters in string two. If there are more characters of one individual letter in\nstring two than string one, it cannot be an anagram.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></p>\n<p><a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/contest/ccc/CCC_2016_S1.java\">Link to Code</a></p>\n<h2 id=\"s2-tandem-bicycle\"><a href=\"#s2-tandem-bicycle\" aria-label=\"s2 tandem bicycle permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>S2: Tandem Bicycle</h2>\n<p>For both problems, sort the speeds from Dmojistan and Pegland in increasing order. If you want the\nminimum total speed, always pair the fastest from Dmojistan with the fastest from Pegland, the\nsecond fastest from Dmojistan with the second fastest from Pegland, and so on. If you want the\nmaximum total speed, always pair the slowest from Dmojistan with the fastest from Pegland, the\nsecond slowest from Dmojistan with the second fastest from Pegland, and so on. It can be\nmathematically proven that this will always yield the maximum/minimum total speed.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>N</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N\\ log\\ N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathit\">o</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></p>\n<p><a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/contest/ccc/CCC_2016_S2.java\">Link to Code</a></p>\n<h2 id=\"s3-phonomenal-reviews\"><a href=\"#s3-phonomenal-reviews\" aria-label=\"s3 phonomenal reviews permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>S3: Phonomenal Reviews</h2>\n<p>Let us observe that any subset of vertices induces a subtree on the original tree and that we have\nto visit every vertex in the induced subtree to visit all the Pho restaurants. Next, let us consider\nan easier problem where we have to return to our starting position. The total distance travelled\nwill be the number of edges in the subtree multiplied by two. Finally because we don't have to\nreturn to our original position, we want to subtract the longest distance in the tree. Thus our\nfinal answer will be the number of edges in the subtree multiplied by two subtracted by the longest\npath distance in the subtree.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span></p>\n<p><a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/contest/ccc/CCC_2016_S3.java\">Link to Code</a></p>\n<h2 id=\"s4-combining-riceballs\"><a href=\"#s4-combining-riceballs\" aria-label=\"s4 combining riceballs permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>S4: Combining Riceballs</h2>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>Let dp</mtext><mo>[</mo><mi>l</mi><mo>]</mo><mo>[</mo><mi>r</mi><mo>]</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>true if </mtext><mo>[</mo><mi>l</mi><mo separator=\"true\">,</mo><mi>r</mi><mo>]</mo><mtext> can be combined</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>false otherwise</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{Let dp}[l][r] =\n\\begin{cases}\n  \\text{true if } [l, r] \\text{ can be combined}\\\\\n  \\text{false otherwise}\n\\end{cases}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:1.75em;\"></span><span class=\"strut bottom\" style=\"height:3.0000299999999998em;vertical-align:-1.25003em;\"></span><span class=\"base\"><span class=\"mord text\"><span class=\"mord\">Let dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">true if </span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mord text\"><span class=\"mord\"> can be combined</span></span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">false otherwise</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>\n<p>If we loop through all possible values of <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mo>[</mo><mi>l</mi><mo separator=\"true\">,</mo><mi>r</mi><mo>]</mo></mrow><annotation encoding=\"application/x-tex\">[l, r]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span></span></span></span> where <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mn>1</mn><mo>&lt;</mo><mo>=</mo><mi>l</mi><mo>&lt;</mo><mo>=</mo><mi>r</mi><mo>&lt;</mo><mo>=</mo><mi>N</mi></mrow><annotation encoding=\"application/x-tex\">1 &lt;= l &lt;= r &lt;= N</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.69444em;\"></span><span class=\"strut bottom\" style=\"height:0.73354em;vertical-align:-0.0391em;\"></span><span class=\"base\"><span class=\"mord\">1</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span></span></span></span> and take the max of the\nrice ball sums where <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>dp</mtext><mo>[</mo><mi>l</mi><mo>]</mo><mo>[</mo><mi>r</mi><mo>]</mo><mo>=</mo><mtext>true</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{dp}[l][r] = \\text{true}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord text\"><span class=\"mord\">dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord text\"><span class=\"mord\">true</span></span></span></span></span>, we can obtain our answer.</p>\n<p>In order to compute <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>dp</mtext><mo>[</mo><mi>l</mi><mo>]</mo><mo>[</mo><mi>r</mi><mo>]</mo></mrow><annotation encoding=\"application/x-tex\">\\text{dp}[l][r]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord text\"><span class=\"mord\">dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span></span></span></span>, we have to consider a couple of cases:</p>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>If </mtext><mi>r</mi><mo>=</mo><mi>l</mi><mo separator=\"true\">,</mo><mtext> then dp</mtext><mo>[</mo><mi>l</mi><mo>]</mo><mo>[</mo><mi>r</mi><mo>]</mo><mo>=</mo><mtext>true</mtext></mrow><annotation encoding=\"application/x-tex\">\\text{If } r = l, \\text{ then dp}[l][r] = \\text{true}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord text\"><span class=\"mord\">If </span></span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord text\"><span class=\"mord\"> then dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord text\"><span class=\"mord\">true</span></span></span></span></span></span>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>If </mtext><mi>r</mi><mo>−</mo><mi>l</mi><mo>&lt;</mo><mo>=</mo><mn>2</mn><mo separator=\"true\">,</mo><mtext> then dp</mtext><mo>[</mo><mi>l</mi><mo>]</mo><mo>[</mo><mi>r</mi><mo>]</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>true if dp</mtext><mo>[</mo><mi>l</mi><mo>]</mo><mo>[</mo><mi>l</mi><mo>]</mo><mo>=</mo><mtext>dp</mtext><mo>[</mo><mi>r</mi><mo>]</mo><mo>[</mo><mi>r</mi><mo>]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>false otherwise</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{If } r - l &lt;= 2, \\text{ then dp}[l][r] =\n\\begin{cases}\n  \\text{true if dp}[l][l] = \\text{dp}[r][r]\\\\\n  \\text{false otherwise}\n\\end{cases}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:1.75em;\"></span><span class=\"strut bottom\" style=\"height:3.0000299999999998em;vertical-align:-1.25003em;\"></span><span class=\"base\"><span class=\"mord text\"><span class=\"mord\">If </span></span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord text\"><span class=\"mord\"> then dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">true if dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord text\"><span class=\"mord\">dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">false otherwise</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>\n<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mtext>If </mtext><mi>r</mi><mo>−</mo><mi>l</mi><mo>&gt;</mo><mn>2</mn><mo separator=\"true\">,</mo><mtext> then dp</mtext><mo>[</mo><mi>l</mi><mo>]</mo><mo>[</mo><mi>r</mi><mo>]</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>true if dp</mtext><mo>[</mo><mi>l</mi><mo>]</mo><mo>[</mo><mi>i</mi><mo>]</mo><mo>=</mo><mtext>dp</mtext><mo>[</mo><mi>j</mi><mo>]</mo><mo>[</mo><mi>r</mi><mo>]</mo><mtext> where </mtext><mi>l</mi><mo>&lt;</mo><mo>=</mo><mi>i</mi><mo>&lt;</mo><mi>j</mi><mo>&lt;</mo><mo>=</mo><mi>r</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mtext>false otherwise</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{If } r - l &gt; 2, \\text{ then dp}[l][r] =\n\\begin{cases}\n  \\text{true if dp}[l][i] = \\text{dp}[j][r] \\text{ where } l &lt;= i &lt; j &lt;= r\\\\\n  \\text{false otherwise}\n\\end{cases}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:1.75em;\"></span><span class=\"strut bottom\" style=\"height:3.0000299999999998em;vertical-align:-1.25003em;\"></span><span class=\"base\"><span class=\"mord text\"><span class=\"mord\">If </span></span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">−</span><span class=\"mord rule\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&gt;</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">2</span><span class=\"mpunct\">,</span><span class=\"mord rule\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord text\"><span class=\"mord\"> then dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">true if dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\">i</span><span class=\"mclose\">]</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord text\"><span class=\"mord\">dp</span></span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">]</span><span class=\"mopen\">[</span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mclose\">]</span><span class=\"mord text\"><span class=\"mord\"> where </span></span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\">i</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.05724em;\">j</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">&lt;</span><span class=\"mrel\">=</span><span class=\"mord rule\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord text\"><span class=\"mord\">false otherwise</span></span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span>\n<p>For the last case, looping through <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.65952em;\"></span><span class=\"strut bottom\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord mathit\">i</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding=\"application/x-tex\">j</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.65952em;\"></span><span class=\"strut bottom\" style=\"height:0.85396em;vertical-align:-0.19444em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.05724em;\">j</span></span></span></span> uses two for loops bringing the total time complexity\nto <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>4</mn></msup><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^4)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.8141079999999999em;\"></span><span class=\"strut bottom\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">4</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span>, but you can reduce that to <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>3</mn></msup><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^3)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.8141079999999999em;\"></span><span class=\"strut bottom\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span> using maps or the two pointer method by making the\nobservation that each prefix/suffix is monotonically increasing.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>N</mi><mn>3</mn></msup><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N^3)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.8141079999999999em;\"></span><span class=\"strut bottom\" style=\"height:1.064108em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141079999999999em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\">3</span></span></span></span></span></span></span></span><span class=\"mclose\">)</span></span></span></span></p>\n<p><a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/contest/ccc/CCC_2016_S4.java\">Link to Code</a></p>\n<h2 id=\"s5-circle-of-life\"><a href=\"#s5-circle-of-life\" aria-label=\"s5 circle of life permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>S5: Circle of Life</h2>\n<p>Let us make a couple of observations first:</p>\n<ol>\n<li>This set of rules of 1D cellular automaton is called\n<a href=\"https://en.wikipedia.org/wiki/Rule_90\">Rule 90</a>.</li>\n</ol>\n<p>It has a property of addictivity meaning that if two initial states are combined by computing the\nexclusive or of each of their states, then their subsequence configurations will be combined in the\nsame way. For example, the second generation of <code class=\"language-text\">01010</code> can be computed by the XOR of the second\ngeneration of <code class=\"language-text\">01000</code> and <code class=\"language-text\">00010</code></p>\n<ol start=\"2\">\n<li>A simulation of <code class=\"language-text\">000...0001000...000</code> yields the\n<a href=\"https://en.wikipedia.org/wiki/Sierpinski_triangle\">Sierpinski's Triangle</a></li>\n<li>The <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mn>2</mn><mi>i</mi></msup><mtext>th</mtext></mrow><annotation encoding=\"application/x-tex\">2^i\\text{th}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.824664em;\"></span><span class=\"strut bottom\" style=\"height:0.824664em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\">i</span></span></span></span></span></span></span></span><span class=\"mord text\"><span class=\"mord\">th</span></span></span></span></span> row of the Sierpinski triangle has exactly two ones.</li>\n</ol>\n<p>Using these three observations, we can compute the <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msup><mn>2</mn><mi>i</mi></msup><mtext>th</mtext></mrow><annotation encoding=\"application/x-tex\">2^i\\text{th}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.824664em;\"></span><span class=\"strut bottom\" style=\"height:0.824664em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord\"><span class=\"mord\">2</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.824664em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mathit mtight\">i</span></span></span></span></span></span></span></span><span class=\"mord text\"><span class=\"mord\">th</span></span></span></span></span> row of any generation in <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mclose\">)</span></span></span></span>\ntime. By decomposing <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding=\"application/x-tex\">T</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.68333em;\"></span><span class=\"strut bottom\" style=\"height:0.68333em;vertical-align:0em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">T</span></span></span></span> into a set of powers of two, we can obtain a time complexity of\n<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>T</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N\\ log\\ T)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathit\">o</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span></span></span></span>.</p>\n<p>Time complexity: <span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>N</mi><mtext> </mtext><mi>l</mi><mi>o</mi><mi>g</mi><mtext> </mtext><mi>T</mi><mo>)</mo></mrow><annotation encoding=\"application/x-tex\">O(N\\ log\\ T)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.75em;\"></span><span class=\"strut bottom\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"base\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathit\" style=\"margin-right:0.10903em;\">N</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.01968em;\">l</span><span class=\"mord mathit\">o</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span><span class=\"mspace\"> </span><span class=\"mord mathit\" style=\"margin-right:0.13889em;\">T</span><span class=\"mclose\">)</span></span></span></span></p>\n<p><a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/contest/ccc/CCC_2016_S5.java\">Link to Code</a></p>","headings":[{"value":"Introduction","depth":2},{"value":"S1: Ragaman","depth":2},{"value":"S2: Tandem Bicycle","depth":2},{"value":"S3: Phonomenal Reviews","depth":2},{"value":"S4: Combining Riceballs","depth":2},{"value":"S5: Circle of Life","depth":2}],"frontmatter":{"date_created":"2016-02-17T00:00:00.000Z","path":"/blog/ccc-2016-analysis","tags":["Programming","Competition"],"title":"CCC 2016 Analysis"}}}]},"allPosts":{"edges":[{"node":{"frontmatter":{"tags":["Emulation","Programming","Rust","WebAssembly"],"path":"/blog/writing-an-nes-emulator-with-rust-and-webassembly","title":"Writing an NES Emulator with Rust and WebAssembly","date_created":"2018-11-12T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Web Development","Programming"],"path":"/blog/personal-website-redesign","title":"Personal Website Redesign","date_created":"2017-09-24T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Programming","Competition"],"path":"/blog/ecoo-round-1-analysis","title":"ECOO Round 1 Analysis","date_created":"2016-04-08T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Programming","Competition"],"path":"/blog/ccoqr-2016-analysis","title":"CCOQR 2016 Analysis","date_created":"2016-03-11T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Programming","Competition"],"path":"/blog/ccc-2016-analysis","title":"CCC 2016 Analysis","date_created":"2016-02-17T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Programming","Machine Learning"],"path":"/blog/machine-learning-notes","title":"Machine Learning Notes","date_created":"2016-02-16T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Competition","Hackathon","Programming","WebGL","Music","Physics"],"path":"/blog/uoft-hacks","title":"UofT Hacks","date_created":"2016-01-25T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Dynamic Programming","Programming"],"path":"/blog/divide-and-conquer-optimization","title":"Divide and Conquer Optimization","date_created":"2015-12-14T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Dynamic Programming","Programming"],"path":"/blog/knuths-optimization","title":"Knuth's Optimization","date_created":"2015-12-07T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Dynamic Programming","Programming"],"path":"/blog/convex-hull-trick","title":"Convex Hull Trick","date_created":"2015-11-30T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Competition","Hackathon","Programming","Machine learning"],"path":"/blog/hack-western","title":"Hack Western","date_created":"2015-11-29T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Competition","Math"],"path":"/blog/harvard-mit-math-tournament","title":"Harvard MIT Math Tournament","date_created":"2015-11-24T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Misc"],"path":"/blog/first-blog-post","title":"First Blog Post","date_created":"2015-11-23T00:00:00.000Z"}}}]}},"pageContext":{"page":1,"numOfPages":3,"skip":0,"limit":5,"pathPrefix":"/blog","tags":["Emulation","Programming","Rust","WebAssembly","Web Development","Competition","Machine Learning","Hackathon","WebGL","Music","Physics","Dynamic Programming","Machine learning","Math","Misc"]}}}