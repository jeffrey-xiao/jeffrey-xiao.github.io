{"componentChunkName":"component---src-templates-blog-js","path":"/blog/tags/hackathon/1","result":{"data":{"pagePosts":{"edges":[{"node":{"html":"<p>\n  <figure class=\"gatsby-resp-image-figure\" style=\"\">\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.55844155844156%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAAC/9oADAMBAAIQAxAAAAFkxxKmImv/xAAcEAACAgIDAAAAAAAAAAAAAAABAgMEABEhIkL/2gAIAQEAAQUCSz1e1yZFYqAI/Wt5/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Bp//EABcRAAMBAAAAAAAAAAAAAAAAAAABAhH/2gAIAQIBAT8BUow//8QAHhAAAgEDBQAAAAAAAAAAAAAAAAEREBIhIjFBkaH/2gAIAQEABj8C03G+FxBLfhKGsdU//8QAGhAAAgMBAQAAAAAAAAAAAAAAAAERIVFBYf/aAAgBAQABPyFHgrS2lQwHEJhnTembEjo2f//aAAwDAQACAAMAAAAQR8//xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQMBAT8QclZ//8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAR/9oACAECAQE/EFAFi//EABwQAQEAAwEBAQEAAAAAAAAAAAERACFBMWFRof/aAAgBAQABPxAK3CYQ0OVnp+YhTItE8lvp/cfCNQ+OZd4C1ZDmie4j6ATQ52fcKOwr4Gf/2Q=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Playing Rocket League During Downtime\"\n        title=\"Playing Rocket League During Downtime\"\n        src=\"/static/da017ee343a7409f1bb49282cca10c9b/a111b/hack-uoft.jpg\"\n        srcset=\"/static/da017ee343a7409f1bb49282cca10c9b/aca85/hack-uoft.jpg 163w,\n/static/da017ee343a7409f1bb49282cca10c9b/0954f/hack-uoft.jpg 325w,\n/static/da017ee343a7409f1bb49282cca10c9b/a111b/hack-uoft.jpg 650w,\n/static/da017ee343a7409f1bb49282cca10c9b/ce471/hack-uoft.jpg 975w,\n/static/da017ee343a7409f1bb49282cca10c9b/feb6b/hack-uoft.jpg 1232w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n      />\n    </span>\n  </span>\n  \n  <figcaption class=\"gatsby-resp-image-figcaption\">Playing Rocket League During Downtime</figcaption>\n  </figure>\n      </p>\n<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>UofTHacks 2016 turned out completely different than I expected. Going into it, I had no idea and\nonly one teammate (Chris) after my two other teammates cancelled. I thought we were going to build a\nvery standard and traditional web application, which I was not against because I still need more\npractice using the MEAN stack. However, when my teammate and I arrived at the venue, we found a\nWaterloo student (Max) that used to go to my high school. After discussing it and attracting other\nWaterloo student (Richard), we decided to create a music visualizer with OpenGL with a twist.\nInstead of just bars and waveforms, we were going to animate a character/model dancing to the beat\nof the music. Sounds ridiculous, right?</p>\n<h2 id=\"getting-started\"><a href=\"#getting-started\" aria-label=\"getting started permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Getting Started</h2>\n<p>First off, we decided against using OpenGL and switched to WebGL because the team lacked major\nexperience with C++. Being the one experience with OpenGL, Max went off to learn how to implement\nWebGL, while the rest of us thought about the implementation details in JavaScript. We decided on\ncreating a very elementary model of a human being: some joint and limb objects connected together\nwhere only the joint objects can be rotated. The best way of implementing such a structure would be\nto use a tree. The hip joint would be the root of the tree and it would be connected to the\nlower-left, lower-right, and upper hip joints which in turned controlled leg and torso rotations.\nLogically, there would also be shoulder, knee, and elbow joints that could sufficiently recreate\nbasic human movement and dancing. A rotation on a joint would \"propagated\" to all the children\njoints. It would look something like this:</p>\n<p>\n  <figure class=\"gatsby-resp-image-figure\" style=\"\">\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 109.8809523809524%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsSAAALEgHS3X78AAACTElEQVQ4y42Vi5qiMAyFef93dHW8i3JHpALN5q/EYfgGd+vkSwntac5J6ETyYXjvf/iyLCVJEsnz/B0fzY9bhmgOMAWZGiNNUzkej3K73X6ukQXAaTbzZ+ecNE0T7H6/S9u2+nJ8D6YEt5zh4/EIIF3XSV3XAYTnqa99LU/9tdJ6NRCXAauqkqIogl5Zlsnz+QyU0TFLM3FPJ1mbhXd5mfuqqz5rSFYGiAFoBcG3rpW8ySW9pRorlgHNQxm6wzCEOYDoBl18eNafslTSzjsoG+BvFQWITKAOMHHAyJADKGw39FLq/Jrl/uF63aNFmVfVBlms1+ugGYMifH19yWazke12q/FCzctmfZX1n7PfbhPVs//OsO/7YGRmlQUsZDNmzDriJoX+6Z5Bqrrxmt0rQxbTW9YizKHFM2btw0A3AEMPvtQWpk0zeJa8AVnEFxDH8auCuop2uF6vwTjkty+FEcdhr4/jUiAYmT5WVcA4ACOGN0CLUyjTvig63f/wVdULSkSmD6BQMurErE2Y2wAQrW0wvd87Py4ZIrK4XC5yOp2CJxs2QO98PgfK1nfIQQzKznGY1/el7k19ksBkGCIqeTgcAiAaWmWZ7/f74KHIQRzIM76uKzWv+uV6SOEvl0LpT9qGDVCdfjVG+T/G9/UFPdrEBDcAssLI2DSbf1HTC3b0ry8FCpj1H4O2MRmWAS023ocAUkFArMK22S4BpJj/K/hIGSAyIxO7pgCljag0Vxix+fW2CAi11WoVKr3b7QJVwLgAuAws9o8s34B/AcpstdCC29aaAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Tree Diagram of Body\"\n        title=\"Tree Diagram of Body\"\n        src=\"/static/56e3a9f6a24c0075e0cadd513393f29d/dbb61/body.png\"\n        srcset=\"/static/56e3a9f6a24c0075e0cadd513393f29d/19bd1/body.png 163w,\n/static/56e3a9f6a24c0075e0cadd513393f29d/d3bcb/body.png 325w,\n/static/56e3a9f6a24c0075e0cadd513393f29d/dbb61/body.png 650w,\n/static/56e3a9f6a24c0075e0cadd513393f29d/04a72/body.png 840w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n      />\n    </span>\n  </span>\n  \n  <figcaption class=\"gatsby-resp-image-figcaption\">Tree Diagram of Body</figcaption>\n  </figure>\n      </p>\n<p>If the right hip joint was targeted (green), the rotation would also propagate to the right upper\nleg, right knee, and right lower leg (blue). So after we implemented the tree structure of the body,\nwe also implemented 3D rotations with matrixes.</p>\n<h2 id=\"threejs\"><a href=\"#threejs\" aria-label=\"threejs permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>three.js</h2>\n<p>After we had done the heavy lifting with developing the physics engine, Max told us some\ndisappointing news. It turns out <a href=\"http://threejs.org/\">three.js</a>, a WebGL library, did all the\nphysics for us. Both fortunate and unfortunate for us. I spent the next chunk of time working with\nMax to get all the 3D objects rendered and created. Even with the library, it still took A LOT of\neffort setting everything up. Creating all the body parts took at least two hundred lines of code.\nAfter figuring out the inner workings of three.js and setting up the body, we had to figure out how\nto move the body. Instead of inverse kinematics, we used forward kinematics because the math was a\nlot easier. In essence, we apply impulses to the joints to make the body move. Each body part would\nthen be slowly forced back to the rest position, similar to how gravity works. So in the middle of\nnight, Max and I were trying to figure out some Grade 11 Physics equations. Needless to say, we were\nvery confused. We tried linear, sin, tan, and even square root relations but none of them worked\nwell. Pseudo-integration didn't work very well because we were calculating the decrease in velocity\nin discrete time units, so when a body part would swing back, it wouldn't settle but go faster and\nfaster. Fortunately, applying a dampening effect (reducing the velocity by 5%) every frame seemed to\ndo the trick.</p>\n<p>The next part was kind of silly. In our sleep deprived states, we decided determine the limits of\neach joint in real life. So the next hour was Max and I swinging out arms in every direction and\nmeasuring the limit. Once that was done, we had figured out most of the physics for the body\nmovements.</p>\n<h2 id=\"music\"><a href=\"#music\" aria-label=\"music permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Music</h2>\n<p>While that was happening, Richard and Chris figured out SoundCloud integration with its\n<a href=\"https://developers.soundcloud.com/docs/api/guide\">API</a> and FFTs with the\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API\">Web Audio API</a>. I quickly put\ntogether a waveform visualization of the SoundCloud music using <a href=\"http://www.chartjs.org/\">chart.js</a>\nand the snapshot amplitudes of frequencies from the FFT in order to debug the movements of our\nmodel. The model was initialized with random movements, so it was very jerky at first. Nevertheless,\nit will \"reacted\" to the bass of the music. Instead of random movements, we decided to incorporate\nsome common movements for each joint and string them together in order to create seamless dance\nmoves. The size of each movement also scaled with the amplitude of the music. Here is the code for\ntwo shoulder movements:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">shoulder1</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">amt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">PROB</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    vel<span class=\"token punctuation\">[</span><span class=\"token constant\">RSHOULDER</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x <span class=\"token operator\">-=</span> amt <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    vel<span class=\"token punctuation\">[</span><span class=\"token constant\">RSHOULDER</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> amt<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">PROB</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    vel<span class=\"token punctuation\">[</span><span class=\"token constant\">LSHOULDER</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>x <span class=\"token operator\">-=</span> amt <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    vel<span class=\"token punctuation\">[</span><span class=\"token constant\">LSHOULDER</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>y <span class=\"token operator\">+=</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> amt<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">shoulder2</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">amt</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">PROB</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    vel<span class=\"token punctuation\">[</span><span class=\"token constant\">RSHOULDER</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>z <span class=\"token operator\">+=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">6</span> <span class=\"token operator\">+</span> amt <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token constant\">PROB</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    vel<span class=\"token punctuation\">[</span><span class=\"token constant\">LSHOULDER</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>z <span class=\"token operator\">-=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">random</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">6</span> <span class=\"token operator\">+</span> amt <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>At this point, our visualizer was more or less complete. We added a deadmau5 head for jokes and then\nadded delay for movements that depended on the amplitude so the model would kind of syncopate.</p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>This hackathon was lots of fun. I was really glad that we decided to create something unique and not\na \"standard useful\" web application. We didn't expect to win anything with \"swagmusic.js\", but we\nended being a finalist. Unfortunately, the other projects had a lot more \"real-world application\"\nthan ours, so we didn't end up winning any grand prizes. Nevertheless, it was a great experience and\nmy first dive into WebGL and manipulating audio.</p>\n<p>Check out <a href=\"http://xelendt.com/swagmusic/\">swagmusic.js</a> in action!</p>","headings":[{"value":"Introduction","depth":2},{"value":"Getting Started","depth":2},{"value":"three.js","depth":2},{"value":"Music","depth":2},{"value":"Conclusion","depth":2}],"frontmatter":{"date_created":"2016-01-25T00:00:00.000Z","path":"/blog/uoft-hacks","tags":["Competition","Hackathon","Programming","WebGL","Music","Physics"],"title":"UofT Hacks"}}},{"node":{"html":"<p>\n  <figure class=\"gatsby-resp-image-figure\" style=\"\">\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAABAP/aAAwDAQACEAMQAAAB00JIC+EwX//EABoQAAIDAQEAAAAAAAAAAAAAAAECAAQSAxH/2gAIAQEAAQUCeyFj2iClxQp6nzRmyJ//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAVEQEBAAAAAAAAAAAAAAAAAAAAIf/aAAgBAgEBPwFX/8QAHBAAAgEFAQAAAAAAAAAAAAAAAREAAhASIUFx/9oACAEBAAY/AtBwjEL2I0kq/J//xAAaEAACAwEBAAAAAAAAAAAAAAABEQAhMUFh/9oACAEBAAE/IVxMAshbE2DGaZnJyPXCUQAl1o+QMoWLyf/aAAwDAQACAAMAAAAQSy//xAAWEQEBAQAAAAAAAAAAAAAAAAAAIUH/2gAIAQMBAT8Qia//xAAXEQEAAwAAAAAAAAAAAAAAAAAAESFB/9oACAECAQE/ELTh/8QAHBABAQADAQADAAAAAAAAAAAAAREAITFBUXHh/9oACAEBAAE/EE2I5T4JmvzaKk0ieEwsycGw+fzOGpCDrLWA5XMbJRI4Pref/9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Hack Western Team\"\n        title=\"Hack Western Team\"\n        src=\"/static/d76d18fc97952eda50f87450c649b8ba/a111b/hack-western.jpg\"\n        srcset=\"/static/d76d18fc97952eda50f87450c649b8ba/aca85/hack-western.jpg 163w,\n/static/d76d18fc97952eda50f87450c649b8ba/0954f/hack-western.jpg 325w,\n/static/d76d18fc97952eda50f87450c649b8ba/a111b/hack-western.jpg 650w,\n/static/d76d18fc97952eda50f87450c649b8ba/ce471/hack-western.jpg 975w,\n/static/d76d18fc97952eda50f87450c649b8ba/bee4e/hack-western.jpg 1300w,\n/static/d76d18fc97952eda50f87450c649b8ba/fb329/hack-western.jpg 1920w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n      />\n    </span>\n  </span>\n  \n  <figcaption class=\"gatsby-resp-image-figcaption\">Hack Western Team</figcaption>\n  </figure>\n      </p>\n<h2 id=\"introduction\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>This weekend, I attended Hack Western with a few of my SHAD friends (Kevin, Lilian, and Katherine).\nIt was a really great experience and we even came home with a sponsor prize! Going into Hack\nWestern, I am pretty sure that my team had zero idea of how to proceed from our initial idea. A week\nbefore Hack Western, Kevin had a really great idea of a live-updated trend-based news-aggregator web\napplication. Essentially what it did was scrape a bunch of articles related to a specific trend and\nfind the top keywords from all the articles. Then it would determine the best paragraphs from the\nbest sources based on length, conciseness, views, and factual information. The paragraphs would be\npushed to <a href=\"http://firebase.com/\">Firebase</a> which was finally pulled and displayed on the website.</p>\n<h2 id=\"apis\"><a href=\"#apis\" aria-label=\"apis permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>APIs</h2>\n<p>So you are probably thinking the same thing as we did when we started the hackathon: <em>how the\n<strong>hell</strong> are we supposed to do that?</em> Well it turns out that the process was relatively simple once\nwe got the ball rolling. The first we did was split up into groups; Kevin started designing and\nworking on the frontend while Lilian, Katherine, and I sorted everything out on the backend. We\ndecided to use Python because it was one of the most intuitive languages to use.</p>\n<p>Our first big issue was how we were going to get the trends. In the end, we decided to pull them\nfrom Twitter's trending hashtags using its <a href=\"https://dev.twitter.com/rest/public\">API</a>. The only\nproblem was that hashtags were one word and we were afraid that we wouldn't be able to pick up any\nrelevant articles. I attempted to use a greedy substring matching algorithm and\n<a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/codebook/string/AhoCorasick.java\">Aho-Corasick</a>\nto try to split the hashtags into phrases. However, there were too many \"valid\" phrases and\nexhaustively searching news articles for each phrase would be computationally heavy and yield too\nmany of the same results. After brooding long and hard over the issue, we decided to screw it and\ndirectly search for the hashtag.</p>\n<p>Next up, we used <a href=\"http://datamarket.azure.com/dataset/bing/search\">Bing's Search API</a> to find the\ntop thirty news articles. That step was pretty simple -- we used some code we found on StackOverflow\nfor the API to work with Python. After that, we found a nice web scraper tool in Python called\n<a href=\"https://github.com/codelucas/newspaper\">Newspaper</a>. Now we were getting down to the nitty-gritty of\nactually processing the articles. We used <a href=\"https://indico.io/\">Indico</a> to determine the keywords for\neach paragraph.</p>\n<h2 id=\"algorithmic-magic\"><a href=\"#algorithmic-magic\" aria-label=\"algorithmic magic permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Algorithmic Magic</h2>\n<p>Then we encountered our second big issue: <strong>how are we supposed to determine the best articles\nwithout repeating facts and getting the entire picture?</strong></p>\n<p>I came up with a great idea of creating a bipartite graph using the paragraphs and keywords as\nnodes. Maximal matching will then determine the minimum number of paragraphs that could cover all\nthe content. Of course, this process might yield irrelevant results so we only used the most\nfrequent keywords. After implementing\n<a href=\"https://github.com/jeffrey-xiao/Competitive-Programming/blob/master/src/codebook/graph/network/MaxBipartiteMatchingKuhn.java\">Kuhn's algorithm</a>\n(it was a surprise that I still knew how it worked!), we tested our program and it yielded pretty\nnice results.</p>\n<p>\n  <figure class=\"gatsby-resp-image-figure\" style=\"\">\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 650px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 71.07913669064749%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAOABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQBBf/EABUBAQEAAAAAAAAAAAAAAAAAAAEA/9oADAMBAAIQAxAAAAHs4kK0J//EABsQAAMAAgMAAAAAAAAAAAAAAAECAwAhBBIT/9oACAEBAAEFAtJgovZTq0/Wa8UqwBz/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAcEAACAgIDAAAAAAAAAAAAAAAAAREhAhIQE4H/2gAIAQEABj8Cl5v0jYuzWYE+x1x//8QAGhAAAwEBAQEAAAAAAAAAAAAAAAERMSFRYf/aAAgBAQABPyFqsz64MPshqam12G4d2ooLpOM9R//aAAwDAQACAAMAAAAQDB//xAAWEQEBAQAAAAAAAAAAAAAAAAAAESH/2gAIAQMBAT8QyK//xAAVEQEBAAAAAAAAAAAAAAAAAAABAP/aAAgBAgEBPxCBv//EABoQAQEAAwEBAAAAAAAAAAAAAAERACFBMYH/2gAIAQEAAT8QMHvWmK81gxTL000pHCC4TRrhhM7ACqTCLoKjZz7gRp95n//Z'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Jim Kyte Entry\"\n        title=\"Jim Kyte Entry\"\n        src=\"/static/c6aeceb527153eb85aa723ef00599cfc/a111b/jim-kyte-entry.jpg\"\n        srcset=\"/static/c6aeceb527153eb85aa723ef00599cfc/aca85/jim-kyte-entry.jpg 163w,\n/static/c6aeceb527153eb85aa723ef00599cfc/0954f/jim-kyte-entry.jpg 325w,\n/static/c6aeceb527153eb85aa723ef00599cfc/a111b/jim-kyte-entry.jpg 650w,\n/static/c6aeceb527153eb85aa723ef00599cfc/9ad72/jim-kyte-entry.jpg 695w\"\n        sizes=\"(max-width: 650px) 100vw, 650px\"\n      />\n    </span>\n  </span>\n  \n  <figcaption class=\"gatsby-resp-image-figcaption\">Jim Kyte Entry</figcaption>\n  </figure>\n      </p>\n<p><strong>Whew!</strong> A big portion of our backend was completed at this point. We checked the time and to our\nsurprise, only 11 hours had passed -- we still had over two-thirds of the hackathon left. The\nsimplicity of Python (especially its imports) really helped especially since we were using so many\nAPIs.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">import</span> urllib2\n<span class=\"token keyword\">import</span> json\n<span class=\"token keyword\">import</span> Queue\n<span class=\"token keyword\">import</span> indicoio\n<span class=\"token keyword\">from</span> firebase <span class=\"token keyword\">import</span> firebase\n<span class=\"token keyword\">from</span> random <span class=\"token keyword\">import</span> shuffle\n<span class=\"token keyword\">from</span> twitter <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span>\n<span class=\"token keyword\">from</span> newspaper <span class=\"token keyword\">import</span> Article\n<span class=\"token keyword\">import</span> wolframalpha\n<span class=\"token keyword\">import</span> simplejson\n<span class=\"token keyword\">import</span> os\n<span class=\"token keyword\">import</span> sys\n<span class=\"token keyword\">import</span> struct\n<span class=\"token keyword\">import</span> imghdr\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">from</span> BeautifulSoup <span class=\"token keyword\">import</span> BeautifulSoup\n<span class=\"token keyword\">from</span> googleplaces <span class=\"token keyword\">import</span> GooglePlaces<span class=\"token punctuation\">,</span> types<span class=\"token punctuation\">,</span> lang</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><em><center>The list of imports we had at the beginning of our Python script.</center></em></p>\n<h2 id=\"data-visualization-and-images\"><a href=\"#data-visualization-and-images\" aria-label=\"data visualization and images permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Visualization and Images</h2>\n<p>The great thing about Indico is that it also gave us entities, political sentiment, and positivity.\nWe used the entities, <a href=\"http://products.wolframalpha.com/developers/\">Wolfram Alpha API</a>, and\n<a href=\"https://developers.google.com/places/\">Google Places API</a> to obtain some location information about\nthe paragraphs. We used the next few hours to create pretty data visualizations with the political\nsentiments, and positivity measure. We spent the next eight hours in the hackathon working on the\nuser interface, incorporating all the information, and finalizing our algorithm to select the best\nparagraphs.</p>\n<p>Staying up for nearly 24 hours, I fell asleep soon after. To my surprise when I woke up, my team had\ngotten image extraction working. Using\n<a href=\"http://www.crummy.com/software/BeautifulSoup/\">BeautifulSoup</a>, they were able to find images by\nlocating the <code class=\"language-text\">&lt;img&gt;</code> tag. However, that extracted all the images from a webpage (even the ones on\nthe side and navigation bars), so they used the <code class=\"language-text\">alt</code> attribute to determine if an image was\nrelevant.</p>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>The rest of the hackathon was rather unproductive since we had pretty much finished. Kevin used\n<a href=\"http://ionicframework.com/\">Ionic</a> to port <em>In the Loop</em> to Android and iOS. I thought that we had\na pretty good shot at a couple of the prizes (Best Data Visualization, Best Life Hack, Best Open\nSource, and Best Social Impact), but after seeing the other projects I was unsure. I really wanted\nthe Best Social Impact prize since they were giving out Bluetooth headphones. In the end, we got the\nBest Life Hack prize which was a pleasant surprise. Overall, Hack Western was a great experience and\nI was really happy that we built such a functional and well-designed web application in just 36\nhours! I learned a lot about the different APIs out there, and especially how powerful Indico is!</p>\n<p>Check out <a href=\"http://beintheloop.me/\">In the Loop</a> in action!</p>","headings":[{"value":"Introduction","depth":2},{"value":"APIs","depth":2},{"value":"Algorithmic Magic","depth":2},{"value":"Data Visualization and Images","depth":2},{"value":"Conclusion","depth":2}],"frontmatter":{"date_created":"2015-11-29T00:00:00.000Z","path":"/blog/hack-western","tags":["Competition","Hackathon","Programming","Machine learning"],"title":"Hack Western"}}}]},"allPosts":{"edges":[{"node":{"frontmatter":{"tags":["Emulation","Programming","Rust","WebAssembly"],"path":"/blog/writing-an-nes-emulator-with-rust-and-webassembly","title":"Writing an NES Emulator with Rust and WebAssembly","date_created":"2018-11-12T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Web Development","Programming"],"path":"/blog/personal-website-redesign","title":"Personal Website Redesign","date_created":"2017-09-24T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Programming","Competition"],"path":"/blog/ecoo-round-1-analysis","title":"ECOO Round 1 Analysis","date_created":"2016-04-08T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Programming","Competition"],"path":"/blog/ccoqr-2016-analysis","title":"CCOQR 2016 Analysis","date_created":"2016-03-11T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Programming","Competition"],"path":"/blog/ccc-2016-analysis","title":"CCC 2016 Analysis","date_created":"2016-02-17T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Programming","Machine Learning"],"path":"/blog/machine-learning-notes","title":"Machine Learning Notes","date_created":"2016-02-16T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Competition","Hackathon","Programming","WebGL","Music","Physics"],"path":"/blog/uoft-hacks","title":"UofT Hacks","date_created":"2016-01-25T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Dynamic Programming","Programming"],"path":"/blog/divide-and-conquer-optimization","title":"Divide and Conquer Optimization","date_created":"2015-12-14T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Dynamic Programming","Programming"],"path":"/blog/knuths-optimization","title":"Knuth's Optimization","date_created":"2015-12-07T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Dynamic Programming","Programming"],"path":"/blog/convex-hull-trick","title":"Convex Hull Trick","date_created":"2015-11-30T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Competition","Hackathon","Programming","Machine learning"],"path":"/blog/hack-western","title":"Hack Western","date_created":"2015-11-29T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Competition","Math"],"path":"/blog/harvard-mit-math-tournament","title":"Harvard MIT Math Tournament","date_created":"2015-11-24T00:00:00.000Z"}}},{"node":{"frontmatter":{"tags":["Misc"],"path":"/blog/first-blog-post","title":"First Blog Post","date_created":"2015-11-23T00:00:00.000Z"}}}]}},"pageContext":{"page":1,"numOfPages":1,"skip":0,"limit":5,"pathPrefix":"/blog/tags/hackathon","tags":["Hackathon"]}}}